---
phase: 01-foundation-public-pages
plan: 03
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - src/app/(public)/flag-football/page.tsx
  - src/app/(public)/tackle-football/page.tsx
  - src/app/(public)/academies-clinics/page.tsx
  - src/app/(public)/about/page.tsx
  - src/app/(public)/contact/page.tsx
  - src/app/(public)/partners/page.tsx
  - src/app/(public)/ways-to-give/page.tsx
  - src/components/sections/program-page.tsx
  - src/components/sections/coach-bio.tsx
  - src/components/sections/safety-section.tsx
  - src/components/sections/contact-form.tsx
  - src/lib/actions/contact.ts
  - src/lib/validations/contact.ts
autonomous: true
user_setup:
  - service: google-recaptcha
    why: "Spam protection for contact form"
    env_vars:
      - name: NEXT_PUBLIC_RECAPTCHA_SITE_KEY
        source: "Google Cloud Console -> APIs & Services -> Credentials -> reCAPTCHA v3 site key"
      - name: RECAPTCHA_SECRET_KEY
        source: "Google Cloud Console -> APIs & Services -> Credentials -> reCAPTCHA v3 secret key"
    dashboard_config:
      - task: "Create reCAPTCHA v3 site"
        location: "https://www.google.com/recaptcha/admin/create - select v3, add domain"
  - service: resend
    why: "Email delivery for contact form submissions"
    env_vars:
      - name: RESEND_API_KEY
        source: "Resend Dashboard -> API Keys -> Create API Key"
    dashboard_config:
      - task: "Verify sending domain (optional for production)"
        location: "Resend Dashboard -> Domains -> Add Domain"

must_haves:
  truths:
    - "Visitor can view Flag Football program details (ages, schedule, costs)"
    - "Visitor can view Tackle Football program details (ages, schedule, costs)"
    - "Visitor can view Academies & Clinics program details"
    - "Visitor can see coach bios with photos on program pages"
    - "Visitor can see safety protocols section on program pages"
    - "Visitor can view About Us page with mission and leadership"
    - "Visitor can submit contact form and see success message"
    - "Visitor can view Partners page (placeholder for sponsor logos)"
    - "Visitor can view Ways to Give page (placeholder for GiveButter)"
  artifacts:
    - path: "src/app/(public)/flag-football/page.tsx"
      provides: "Flag Football program page"
      min_lines: 30
    - path: "src/app/(public)/tackle-football/page.tsx"
      provides: "Tackle Football program page"
      min_lines: 30
    - path: "src/app/(public)/academies-clinics/page.tsx"
      provides: "Academies & Clinics program page"
      min_lines: 30
    - path: "src/components/sections/program-page.tsx"
      provides: "Reusable program page template"
      min_lines: 60
    - path: "src/components/sections/contact-form.tsx"
      provides: "Contact form with validation"
      contains: "useForm"
    - path: "src/lib/actions/contact.ts"
      provides: "Server action for form submission"
      contains: "use server"
  key_links:
    - from: "src/components/sections/contact-form.tsx"
      to: "src/lib/actions/contact.ts"
      via: "Server action import"
      pattern: "import.*submitContactForm"
    - from: "src/lib/actions/contact.ts"
      to: "resend"
      via: "Email sending"
      pattern: "resend\\.emails\\.send"
    - from: "src/app/(public)/contact/page.tsx"
      to: "src/components/sections/contact-form.tsx"
      via: "Component import"
      pattern: "import.*ContactForm"
---

<objective>
Build all content pages: three program pages with shared template, About Us, Contact with form, Partners placeholder, and Ways to Give placeholder.

Purpose: Complete the public-facing website with all navigable pages containing their core content. This fulfills the Phase 1 goal of a "complete, responsive public website."

Output: Seven content pages ready for visitor browsing, with the contact form fully functional (pending user environment setup for reCAPTCHA and Resend).
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-public-pages/01-RESEARCH.md
@.planning/phases/01-foundation-public-pages/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create reusable program page template and three program pages</name>
  <files>
    - src/components/sections/program-page.tsx
    - src/components/sections/coach-bio.tsx
    - src/components/sections/safety-section.tsx
    - src/app/(public)/flag-football/page.tsx
    - src/app/(public)/tackle-football/page.tsx
    - src/app/(public)/academies-clinics/page.tsx
  </files>
  <action>
    Create a reusable program page template component that all three program pages use:

    src/components/sections/program-page.tsx:
    - Props interface:
      ```typescript
      interface ProgramPageProps {
        title: string
        subtitle: string
        heroImage: string
        description: string
        ageGroups: { name: string; ages: string; description: string }[]
        schedule: { day: string; time: string; location: string }[]
        costs: { item: string; price: string; notes?: string }[]
        coaches: { name: string; role: string; bio: string; imageUrl: string }[]
        safetyProtocols?: string[]  // Optional - only for Flag/Tackle
        ctaText: string
        ctaLink: string
      }
      ```
    - Sections in order:
      1. Hero banner with title overlay (smaller than homepage, ~40vh)
      2. Program description (2-3 paragraphs)
      3. Age groups grid (cards showing each age division)
      4. Schedule section (table or card layout)
      5. Costs/pricing section (clear pricing table)
      6. Coaches section (grid of CoachBio components)
      7. Safety protocols section (if provided)
      8. CTA section (register button)

    src/components/sections/coach-bio.tsx:
    - Props: name, role, bio, imageUrl
    - Layout: Image on left (or top on mobile), text on right
    - Use next/image with placeholder blur
    - Responsive: stack vertically on mobile

    src/components/sections/safety-section.tsx:
    - Props: protocols (string array)
    - Title: "Safety Protocols" with shield/safety icon (optional)
    - List protocols with checkmark icons
    - Dark card background for emphasis

    Program page files (src/app/(public)/[program]/page.tsx):
    Each page imports ProgramPage and passes program-specific data.

    FLAG FOOTBALL (src/app/(public)/flag-football/page.tsx):
    - Title: "Flag Football"
    - Subtitle: "Non-contact football for ages 5-8"
    - Age groups: 5-6 (Rookies), 7-8 (All-Stars)
    - Schedule: Placeholder (Saturdays 9am-12pm)
    - Costs: Registration $150, Jersey included
    - Coaches: 2-3 placeholder coaches with placeholder images
    - Safety: Basic safety protocols (no contact, certified coaches, first aid on site)
    - CTA: "Register for Flag Football"
    - Metadata: title, description for SEO

    TACKLE FOOTBALL (src/app/(public)/tackle-football/page.tsx):
    - Title: "Tackle Football"
    - Subtitle: "Traditional football for ages 9-14"
    - Age groups: 9-10 (JV), 11-12 (Varsity), 13-14 (Elite)
    - Schedule: Placeholder (Saturdays 1pm-5pm)
    - Costs: Registration $200, Equipment rental $50
    - Coaches: 2-3 placeholder coaches
    - Safety: Full safety protocols (USA Football certified, helmet fitting, concussion protocol, hydration stations)
    - CTA: "Register for Tackle Football"

    ACADEMIES & CLINICS (src/app/(public)/academies-clinics/page.tsx):
    - Title: "Academies & Clinics"
    - Subtitle: "Skills training for all ages and experience levels"
    - Age groups: All ages welcome, grouped by skill level
    - Schedule: Various clinics (QB Academy, Speed Camp, Summer Intensive)
    - Costs: Varies by clinic ($50-200)
    - Coaches: 2-3 placeholder coaches (specialists)
    - Safety: Not required (no safetyProtocols prop)
    - CTA: "View Upcoming Clinics"

    NOTE: All content is placeholder/example data. The AI CMS in Phase 3 will make this dynamic.
  </action>
  <verify>
    1. Navigate to /flag-football - page displays with all sections
    2. Navigate to /tackle-football - page displays with all sections
    3. Navigate to /academies-clinics - page displays without safety section
    4. Coach bios display with images (placeholder/broken is OK)
    5. Pages are responsive (check mobile view)
    6. All CTA buttons link to correct paths
  </verify>
  <done>
    Three program pages display complete information with reusable template, coach bios, and safety protocols
  </done>
</task>

<task type="auto">
  <name>Task 2: Create About Us, Partners, and Ways to Give pages</name>
  <files>
    - src/app/(public)/about/page.tsx
    - src/app/(public)/partners/page.tsx
    - src/app/(public)/ways-to-give/page.tsx
    - src/components/sections/leadership-grid.tsx
  </files>
  <action>
    Create the remaining content pages:

    ABOUT US (src/app/(public)/about/page.tsx):
    - Hero section with "About RiseUp" title
    - Mission statement section:
      - "Our Mission" heading
      - Placeholder text about developing youth through football (2-3 paragraphs)
    - History section:
      - "Our Story" heading
      - Timeline or paragraph about when founded, growth, etc. (placeholder)
    - Leadership section:
      - "Our Leadership" heading
      - Grid of leadership bios (use CoachBio component or create LeadershipGrid)
      - Include: Executive Director, Board President, Head Coach (placeholders)
    - Values section (optional):
      - 3-4 core values with icons (Integrity, Excellence, Community, Safety)
    - Metadata: title "About Us | RiseUp Youth Football League"

    src/components/sections/leadership-grid.tsx:
    - Similar to coach grid but for leadership team
    - Props: leaders array with name, title, bio, imageUrl
    - Can reuse CoachBio component internally

    PARTNERS (src/app/(public)/partners/page.tsx):
    - Hero section with "Our Partners" title
    - Intro text thanking sponsors/partners
    - Partner logo grid section:
      - Placeholder: "Partner logos will appear here"
      - Grid layout ready for sponsor images (3-4 columns on desktop)
      - Each logo will be clickable (Link wrapper ready)
    - "Become a Partner" CTA section:
      - Text about sponsorship opportunities
      - Button linking to contact page (or future sponsor form in Phase 2)
    - NOTE: Dynamic partner display comes in Phase 2 with sponsor portal
    - Metadata: title "Partners | RiseUp Youth Football League"

    WAYS TO GIVE (src/app/(public)/ways-to-give/page.tsx):
    - Hero section with "Support RiseUp" title
    - Impact statements section:
      - "$50 provides equipment for one player"
      - "$100 sponsors a player's registration"
      - "$500 funds a team for a season"
      - (3-4 impact statements with icons)
    - Donation section:
      - Placeholder: "GiveButter donation form will appear here"
      - Styled container ready for embed (min-height, centered)
      - Note: GiveButter integration in Phase 2
    - Other ways to give:
      - Volunteer (link to contact)
      - Corporate sponsorship (link to partners)
      - In-kind donations (text description)
    - Metadata: title "Ways to Give | RiseUp Youth Football League"
  </action>
  <verify>
    1. Navigate to /about - page displays mission, history, leadership
    2. Navigate to /partners - page displays with placeholder for logos
    3. Navigate to /ways-to-give - page displays impact statements and donation placeholder
    4. All pages responsive on mobile
    5. Internal links work (e.g., "Become a Partner" links to /contact)
    6. Metadata appears in browser tab
  </verify>
  <done>
    About Us page complete with mission/leadership, Partners page ready for Phase 2 integration, Ways to Give page ready for GiveButter
  </done>
</task>

<task type="auto">
  <name>Task 3: Create Contact page with form and server action</name>
  <files>
    - src/app/(public)/contact/page.tsx
    - src/components/sections/contact-form.tsx
    - src/lib/actions/contact.ts
    - src/lib/validations/contact.ts
  </files>
  <action>
    Create the contact page with a fully functional form:

    src/lib/validations/contact.ts:
    - Define Zod schema for contact form:
      ```typescript
      import { z } from 'zod'

      export const contactSchema = z.object({
        name: z.string().min(2, 'Name must be at least 2 characters'),
        email: z.string().email('Please enter a valid email'),
        phone: z.string().optional(),
        subject: z.string().min(1, 'Please select a subject'),
        message: z.string().min(10, 'Message must be at least 10 characters'),
      })

      export type ContactFormData = z.infer<typeof contactSchema>
      ```

    src/lib/actions/contact.ts:
    - 'use server' directive
    - Import Resend, contactSchema
    - Define ContactFormState type with success, message, errors fields
    - submitContactForm function:
      1. Parse and validate form data with Zod
      2. If validation fails, return errors
      3. Verify reCAPTCHA token (if token provided):
         - POST to Google's siteverify endpoint
         - Check success and score >= 0.5
         - If fails, return error message
      4. Send email via Resend:
         - To: process.env.CONTACT_EMAIL
         - Subject: "New Contact: [subject] from [name]"
         - Body: Name, email, phone, subject, message
      5. Return success message
      6. Handle errors gracefully (try-catch)
    - Make reCAPTCHA optional: if env vars not set, skip verification (for local dev)

    src/components/sections/contact-form.tsx:
    - 'use client' directive
    - Use React Hook Form with zodResolver
    - Use useFormState hook for server action (Next.js pattern)
    - Fields:
      - Name (text input, required)
      - Email (email input, required)
      - Phone (tel input, optional)
      - Subject (select dropdown):
        - "General Inquiry"
        - "Registration Question"
        - "Sponsorship Inquiry"
        - "Volunteer Interest"
        - "Other"
      - Message (textarea, required)
    - reCAPTCHA integration:
      - Import ReCaptchaProvider and useReCaptcha from next-recaptcha-v3
      - Execute reCAPTCHA on submit and include token in form data
      - Wrap form in provider (or wrap at layout level)
    - Show validation errors inline under fields
    - Show success/error message after submission
    - Disable submit button while pending
    - Styled with dark theme (dark inputs, accent button)

    src/app/(public)/contact/page.tsx:
    - Hero section with "Contact Us" title
    - Two-column layout (desktop):
      - Left: Contact form
      - Right: Contact information
    - Contact information:
      - Address (placeholder): "123 Football Way, City, ST 12345"
      - Phone (placeholder): "(555) 123-4567"
      - Email: "info@riseupyouthfootball.com"
      - Hours: "Mon-Fri 9am-5pm"
    - Map placeholder (optional): "Map will appear here" or embed Google Maps iframe
    - Wrap page content in ReCaptchaProvider with site key from env
    - Metadata: title "Contact Us | RiseUp Youth Football League"
  </action>
  <verify>
    1. Navigate to /contact - page displays form and contact info
    2. Submit empty form - validation errors appear
    3. Fill valid data and submit:
       - If env vars configured: email sends, success message shown
       - If env vars NOT configured: form may fail gracefully with error message (expected without setup)
    4. Form is responsive (stacks on mobile)
    5. Subject dropdown works correctly
    6. Check console for any React errors
  </verify>
  <done>
    Contact page displays with working form, Zod validation, reCAPTCHA integration, and Resend email delivery (pending user env setup)
  </done>
</task>

</tasks>

<verification>
After all tasks complete:

1. **Program pages**: All three display with ages, schedule, costs, coaches, safety (where applicable)
2. **About page**: Mission, history, leadership sections visible
3. **Partners page**: Placeholder ready for Phase 2 dynamic content
4. **Ways to Give page**: Impact statements visible, GiveButter placeholder ready
5. **Contact page**: Form submits, validation works, contact info displayed
6. **Navigation**: All pages accessible via header navigation
7. **Mobile responsive**: All pages render correctly on mobile viewport

Requirements covered:
- PAGE-04: Flag Football page with program details - implemented
- PAGE-05: Tackle Football page with program details - implemented
- PAGE-12: Academies & Clinics page with program details - implemented
- PAGE-06: Coach bios with photos on program pages - implemented
- PAGE-07: Safety protocols section on program pages - implemented
- PAGE-08: About Us with mission, leadership, history - implemented
- PAGE-09: Contact page with contact info and inquiry form - implemented
- PAGE-10: Partners page with sponsor logos (placeholder) - implemented
- TECH-01: Responsive design - implemented
- TECH-03: Contact form with spam protection (reCAPTCHA) - implemented
</verification>

<success_criteria>
- Three program pages display complete information (ages, schedule, costs, coaches, safety)
- Program pages use shared template for consistency
- About Us page shows mission, history, and leadership
- Contact form validates input and submits successfully (with proper env setup)
- Contact form shows inline validation errors
- reCAPTCHA protects form from spam
- Partners page has placeholder grid ready for sponsor logos
- Ways to Give page has placeholder for GiveButter embed
- All pages are responsive and follow dark theme
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-public-pages/01-03-SUMMARY.md` using the summary template.
</output>
